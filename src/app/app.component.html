<header>
  <amaze-logo [sizePx]="36" [color]="iconColor" />

  <div>
    <button
      class="material-symbols icon-button"
      title="Instructions"
      (click)="showHelpDialog()"
      data-test-id="help-dialog-button"
    >
      help
    </button>

    <button
      class="material-symbols icon-button"
      title="Solve the maze"
      (click)="solveMaze()"
      data-test-id="solve-maze-button"
    >
      conversion_path
    </button>

    <button
      class="material-symbols icon-button"
      title="Generate a new maze"
      (click)="generateNewMaze()"
      data-test-id="generate-maze-button"
    >
      refresh
    </button>

    <button
      class="material-symbols icon-button"
      title="Toggle light/dark mode"
      (click)="toggleDarkMode()"
      data-test-id="toggle-dark-mode-button"
    >
      {{ themeModeIcon }}
    </button>

    <button
      class="material-symbols icon-button"
      title="Share this maze"
      (click)="shareMaze()"
      data-test-id="share-maze-button"
    >
      share
    </button>

    <a
      class="icon-button"
      href="https://github.com/chrispyles/amaze"
      target="_blank"
      title="View on GitHub"
    >
      <github-logo [color]="iconColor" />
    </a>
  </div>
</header>

@if (viewportTooSmall()) {
  <div data-test-id="viewport-size-error">
    This browser's dimensions are too small for this application. Please view it
    in a desktop browser.
  </div>
} @else {
  <amaze-maze [maze]="maze" (move)="handleMove($event)" />
}

<div class="snack-bar" [class.visible]="snackBarText()">
  {{ snackBarText() }}
</div>

<dialog #helpDialog (click)="closeHelpDialog($event)">
  <div class="dialog-header">
    <h2>Instructions</h2>
    <button class="material-symbols icon-button" (click)="helpDialog.close()">
      close
    </button>
  </div>

  <p>Use your arrow or WASD keys to move through the maze.</p>

  <p>
    Click the <i class="material-symbols">conversion_path</i> button to solve
    the maze.
  </p>

  <p>
    Click the <i class="material-symbols">refresh</i> button to generate a new
    maze.
  </p>
</dialog>
